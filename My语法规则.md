# My语言语法规则

## 概述

My语言是一种面向对象的中文编程语言，设计用于描述接口、类、方法、属性等编程概念。本文档详细说明了My语言的语法规则和各关键词的使用方法。

## 基本语法结构

### 注释
```my
// 这是单行注释
/**
 * 这是多行注释
 * 可以跨越多行
 */
```

**规则说明：**
- 单行注释以 `//` 开头，到行尾结束
- 多行注释以 `/*` 开头，以 `*/` 结束，或者以 `*` 开头，每行以 `*` 开始

### 命名空间和文件结构
```my
// 文件级别注释
接口 接口名称
{
    // 接口内容
}

类 类名称 : 基类名称
{
    // 类内容
}
```

## 关键字详解

### 1. 接口定义
**关键字：** `接口`

**语法：**
```my
接口 接口名称
{
    // 接口成员
}
```

**示例：**
```my
接口 I可绘制
{
    公开 X : 整数;
    公开 Y : 整数;
    方法 绘制 : 字符串;
}
```

**规则：**
- 接口名称应遵循大驼峰命名法
- 接口可以继承其他接口（使用冒号分隔）
- 接口只能包含属性和方法声明，不能包含实现

### 2. 类定义
**关键字：** `类`

**语法：**
```my
类 类名称 : 基类名称, 接口名称1, 接口名称2
{
    // 类成员
}
```

**示例：**
```my
类 图形 : I可移动
{
    // 类实现
}

类 圆形 : 图形
{
    // 类实现
}
```

**规则：**
- 类名称应遵循大驼峰命名法
- 可以继承一个基类和多个接口
- 基类和接口用冒号分隔，逗号分隔多个接口

### 3. 访问修饰符
**关键字：** `公开`、`私有`、`保护`、`静态`、`只读`

**语法：**
```my
公开 属性名 : 类型;
私有 属性名 : 类型;
保护 方法名 : 返回类型;
静态 方法名 : 返回类型;
只读 属性名 : 类型;
```

**说明：**
- `公开`：public，公共访问
- `私有`：private，私有访问
- `保护`：protected，保护访问
- `静态`：static，静态成员
- `只读`：readonly，只读属性（仅用于字段）

### 4. 方法类型修饰符
**关键字：** `方法`、`虚方法`、`重写方法`、`抽象方法`

**语法：**
```my
方法 普通方法名 : 返回类型
虚方法 可重写方法名 : 返回类型
重写方法 已重写方法名 : 返回类型
抽象方法 抽象方法名 : 返回类型
```

**说明：**
- `方法`：普通方法
- `虚方法`：virtual，可被子类重写
- `重写方法`：override，重写基类方法
- `抽象方法`：abstract，抽象方法，无实现

### 5. 构造函数
**关键字：** `构造函数`

**语法：**
```my
构造函数(参数1 : 类型1, 参数2 : 类型2) : 基类构造函数调用(参数)
{
    // 构造函数体
}
```

**示例：**
```my
构造函数(名称 : 字符串, 半径 : 整数) : 图形(名称, "红色")
{
    this.名称 = 名称;
    this.半径 = 半径;
}
```

### 6. 属性定义
**关键字：** 属性名、类型关键字

**语法：**
```my
[访问修饰符] [可为空] 属性名 : 类型 [ = 初始值];
```

**示例：**
```my
公开 名称 : 字符串;
私有 计数 : 整数 = 0;
公开 半径可为空 : 小数;
```

**规则：**
- 访问修饰符可选，默认为公开
- `可为空`关键字表示属性可为空（对应C#的?）
- 可以有默认初始值

### 7. 数据类型
**关键字：** `整数`、`小数`、`字符串`、`布尔值`、`对象`、`无返回值`

**对应关系：**
- `整数` → int
- `小数` → double
- `字符串` → string
- `布尔值` → bool
- `对象` → object
- `无返回值` → void

### 8. 变量声明
**关键字：** `变量`

**语法：**
```my
变量 变量名 : 类型 = 表达式;
```

**示例：**
```my
变量 计数 : 整数 = 0;
变量 消息 : 字符串 = "Hello";
变量 圆周率 : 小数 = 3.14159;
```

### 9. 控制流语句
**关键字：** `如果`、`否则`、`返回`

**语法：**
```my
如果 (条件表达式)
{
    // 条件为真时执行
}
否则
{
    // 条件为假时执行
}

返回 表达式;
```

**示例：**
```my
如果 (计数 > 0)
{
    返回 "计数大于0";
}
否则
{
    返回 "计数等于0";
}
```

### 10. 表达式和操作符

**操作符：**
- `+` 加法
- `-` 减法
- `*` 乘法
- `/` 除法
- `==` 等于
- `!=` 不等于
- `&&` 逻辑与
- `||` 逻辑或

**特殊值：**
- `真` → true
- `假` → false
- `空` → null

**示例：**
```my
变量 结果 : 整数 = (a + b) * c;
变量 相等 : 布尔值 = (x == y);
变量 逻辑结果 : 布尔值 = (a > 0) && (b < 10);
```

## 完整示例

### 简单接口示例
```my
/**
 * 基础绘图接口
 * 定义所有可绘制对象的基本属性
 */
接口 I可绘制
{
    // X坐标
    公开 X : 整数;
    
    // Y坐标
    公开 Y : 整数;
    
    // 绘制方法
    方法 绘制 : 字符串;
}
```

### 简单类示例
```my
/**
 * 圆形类，实现绘图接口
 */
类 圆形 : I可绘制
{
    // 私有半径属性
    私有 半径 : 整数;
    
    // 构造函数
    构造函数(X : 整数, Y : 整数, 半径 : 整数)
    {
        this.X = X;
        this.Y = Y;
        this.半径 = 半径;
    }
    
    // 重写绘制方法
    重写方法 绘制 : 字符串
    {
        返回 "绘制圆形在位置(" + X + "," + Y + ")，半径为" + 半径;
    }
    
    // 计算面积方法
    方法 计算面积 : 小数
    {
        返回 3.14159 * 半径 * 半径;
    }
}
```

## 编译规则

1. **文件扩展名**：`.My`
2. **编码**：UTF-8
3. **命名规则**：
   - 接口名：大驼峰，建议以I开头
   - 类名：大驼峰
   - 属性名：大驼峰
   - 方法名：大驼峰
   - 变量名：大驼峰
4. **注释规范**：
   - 接口和类前应有描述性多行注释
   - 属性和方法前应有单行注释说明用途
5. **缩进规则**：建议使用4个空格或1个制表符

## 注意事项

1. **大小写敏感**：所有关键字都区分大小写
2. **语句结束**：每个语句以分号`;`结束
3. **代码块**：使用大括号`{}`定义代码块
4. **参数传递**：方法参数使用`参数名: 类型`格式
5. **继承语法**：使用冒号`:`表示继承关系，逗号`,`分隔多个接口

## 错误处理

编译器会检测以下错误：
- 语法错误
- 类型不匹配
- 未定义的标识符
- 访问权限冲突
- 方法签名不匹配

## 最佳实践

1. **命名规范**：使用有意义的中文名称
2. **注释完整**：为所有公共接口、类、方法添加注释
3. **单一职责**：每个类和方法应该有明确的单一职责
4. **接口设计**：接口应该小而专注，定义清晰的行为契约
5. **继承层次**：合理使用继承，避免过深的继承层次